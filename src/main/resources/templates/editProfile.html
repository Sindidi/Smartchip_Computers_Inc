<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="layout :: head">
  </head>
  <head>
    	<meta charset="UTF-8">
      	<link rel="stylesheet" th:href="@{css/profile.css}">
  </head>
  <body>
	<div th:replace="layout :: header"></div>
    <div class="main-content">


	<div class="container">
    <div class="main-body">
    
          <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img th:src="@{/img/img_avatar1.png}" alt="" class="rounded-circle" width="150">
                    <div class="mt-3">
                      <h4 th:text="${userInfo.fisrtname}"></h4>
                      <h4 th:text="${userInfo.lastname}"></h4>
                      <a class="btn btn-primary" th:href="@{/profile}"><i class="fa fa-calendar"></i>Profile</a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card mt-3">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter mr-2 icon-inline text-info"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>Twitter</h6>
                    <span class="text-secondary"></span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram mr-2 icon-inline text-danger"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>Instagram</h6>
                    <span class="text-secondary"></span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook mr-2 icon-inline text-primary"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>Facebook</h6>
                    <span class="text-secondary"></span>
                  </li>
                </ul>
              </div> 
            </div> 
            <div class="col-md-8">
              <div class="card mb-3">
                <div class="card-body">
                  <form class="needs-validation text-center" th:action="@{/userUpddate/{id}(id=${userInfo.id})}" th:object="${user}" method="post" enctype="multipart/form-data">
					  	<div class="form-row mb-4">
						    <div class="col-md-3">
						    	 <label for="validationCustom02">Photo</label>
						    </div> 
						    <div class="col-md-6">
						    	<label class="col-form-label">Image</label>
								<input type="file" class="form-control" placeholder="Parcourir une image" id="imgView" name="myfile" accept="image/*" >
								<span style="color: red;" th:errors="${userInfo.image}"></span>
								<div id="imgApercuDiv"><img id="imgApercu" alt="" class="rounded-circle" width="150" src="#" /></div>
						    </div>  
					   	</div>
					  	<div class="form-row mb-4">
						    <div class="col-md-3">
						    	 <label for="validationCustom02">Prénom</label>
						    </div> 
						    <div class="col-md-6">
						    	<input type="text" class="form-control" id="validationCustom02" 
						      	th:field="${userInfo.fisrtname}"
						      	placeholder="Prénom"  required> 
						    </div>  
					   	</div>
					   	
					   	<div class="form-row mb-4">
						    <div class="col-md-3">
						    	 <label for="validationCustom02">Nom</label>
						    </div> 
						    <div class="col-md-6">
						    	<input type="text" class="form-control" id="validationCustom02" 
						      	th:field="${userInfo.lastname}"
						      	placeholder="Nom"  required> 
						    </div>  
					   	</div>
					   	
					   	<div class="form-row mb-4">
						    <div class="col-md-3">
						    	 <label for="validationCustom02">Adresse</label>
						    </div> 
						    <div class="col-md-6">
						    	<input type="text" class="form-control" id="validationCustom02" 
						      	th:field="${userInfo.address}"
						      	placeholder="Adresse"  required> 
						    </div>  
					   	</div>
					  	
					  	<div class="form-row mb-4">
						    <div class="col-md-3">
						    	 <label for="validationCustom02">Email</label>
						    </div> 
						    <div class="col-md-6">
						    	<input type="text" class="form-control" id="validationCustom02" 
						      	th:field="${userInfo.mail}"
						      	placeholder="Email"  required> 
						    </div>  
					   	</div>
					  	
					    <div class="form-row mb-4">
						    <div class="col-md-3">
						    	 <label for="validationCustom02">Téléphone</label>
						    </div> 
						    <div class="col-md-6">
						    	<input type="text" class="form-control" id="validationCustom02" 
						      	th:field="${userInfo.phone}"
						      	placeholder="Téléphone"  required> 
						      	 
						    </div>  
					   	</div>
					    
					    <input type="hidden" th:field="${userInfo.username}">
					    <input type="hidden" th:field="${userInfo.password}"> 
					   
					   
					  <button class="btn btn-primary" type="submit">VAlider</button>
					</form>
					
                </div>
              </div>
            </div>
          </div>

        </div>
    </div>
    
    </div> 
	<div th:replace="layout :: footer"></div>
	<script type="text/javascript">
		imgView.onchange = evt => {
	  	  const [file] = imgView.files
	  	  if (file) {
	  		  imgApercu.src = URL.createObjectURL(file)
	  		  let img = document.querySelector('#imgApercuDiv');
	  		  img.classList.toggle('active')
	  	  }
	  	}
	</script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="/js/profile.js"></script>
  </body>
</html>